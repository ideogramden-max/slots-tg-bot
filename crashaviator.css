/* =========================================
   1WIN GRADE - CRASH STYLES
   ========================================= */

.crash-game-body {
    margin: 0; padding: 0;
    display: flex; flex-direction: column; height: 100vh; overflow: hidden;
    background-color: #0b0b10; color: white;
    font-family: 'Montserrat', sans-serif;
    -webkit-font-smoothing: antialiased;
}

/* ФОН */
.space-background {
    position: fixed; top: 0; left: 0; width: 100%; height: 100%; z-index: -1;
    background: radial-gradient(circle at center, #1a1a2e 0%, #050505 100%);
}
.stars {
    position: absolute; width: 100%; height: 100%;
    background-image: radial-gradient(white 1px, transparent 1px);
    background-size: 50px 50px; opacity: 0.1;
}

/* ХЕДЕР */
.game-header {
    display: flex; justify-content: space-between; align-items: center;
    padding: 10px 16px; background: rgba(20, 20, 30, 0.95);
    border-bottom: 1px solid rgba(255,255,255,0.05); z-index: 50;
    height: 60px; box-sizing: border-box;
}
.back-btn, .icon-btn {
    background: rgba(255,255,255,0.05); border: 1px solid rgba(255,255,255,0.1);
    color: #ccc; width: 40px; height: 40px; border-radius: 12px;
    display: flex; align-items: center; justify-content: center; font-size: 1.1rem;
}
.balance-val { font-family: 'Orbitron', monospace; font-weight: 700; font-size: 1.1rem; }
#currency-display { color: #ffd700; margin-left: 4px; }

/* ИСТОРИЯ */
.history-bar {
    height: 40px; background: #0e0e12; display: flex; align-items: center;
    border-bottom: 1px solid rgba(255,255,255,0.05); flex-shrink: 0;
}
.history-track {
    flex-grow: 1; display: flex; align-items: center; gap: 8px;
    overflow-x: auto; padding: 0 10px; flex-direction: row-reverse;
}
.badge {
    padding: 4px 8px; border-radius: 6px; font-family: 'Orbitron', monospace;
    font-size: 0.75rem; font-weight: 700; background: #222; color: #fff;
}
.badge.high { color: #ffd700; background: rgba(255, 215, 0, 0.1); }
.badge.med { color: #00ff88; background: rgba(0, 255, 136, 0.1); }
.badge.low { color: #00f3ff; background: rgba(0, 243, 255, 0.1); }
.badge.crash { color: #ff4444; background: rgba(255, 68, 68, 0.1); }

/* СЦЕНА */
.game-stage {
    flex-grow: 1; position: relative; overflow: hidden;
    background: 
        linear-gradient(rgba(255, 255, 255, 0.03) 1px, transparent 1px),
        linear-gradient(90deg, rgba(255, 255, 255, 0.03) 1px, transparent 1px);
    background-size: 60px 60px;
}
.canvas-container { width: 100%; height: 100%; position: relative; }
canvas { display: block; width: 100%; height: 100%; }

/* ЦИФРЫ В ЦЕНТРЕ */
.center-display {
    position: absolute; top: 40%; left: 50%; transform: translate(-50%, -50%);
    text-align: center; pointer-events: none; z-index: 10; width: 100%;
}
.multiplier-text {
    font-family: 'Orbitron', monospace; /* Monospace важен чтобы цифры не прыгали */
    font-size: 4.5rem; font-weight: 900; color: white;
    text-shadow: 0 0 40px rgba(0, 243, 255, 0.2);
    font-variant-numeric: tabular-nums;
}
.status-text { font-size: 1.2rem; font-weight: 800; color: #888; letter-spacing: 2px; }
.crash-text {
    font-family: 'Orbitron', sans-serif; font-size: 3rem; font-weight: 900; color: #ff0055;
    text-shadow: 0 0 30px rgba(255, 0, 85, 0.6);
}

/* РАКЕТА (GPU Optimized) */
.rocket-wrapper {
    position: absolute; width: 60px; height: 60px;
    left: 0; bottom: 0; /* Стартовая точка */
    z-index: 20;
    will-change: transform; /* Подсказка браузеру рендерить через GPU */
    display: flex; align-items: center; justify-content: center;
    color: #ff0055; font-size: 2.5rem;
    filter: drop-shadow(0 0 15px rgba(255, 0, 85, 0.5));
}
.rocket-wrapper.boom { color: #ffaa00; transform: scale(1.5) !important; transition: transform 0.2s; }

/* УПРАВЛЕНИЕ */
.control-panel {
    background: #15151a; border-top: 1px solid #333;
    padding: 15px; padding-bottom: 30px;
    display: flex; flex-direction: column; gap: 12px; z-index: 60;
}
.bet-controls { display: flex; gap: 10px; align-items: flex-end; }
.bet-input-box { flex-grow: 1; }
.bet-input-box label { font-size: 0.65rem; color: #666; font-weight: 700; margin-left: 5px; }

.stepper {
    display: flex; background: #08080a; border: 1px solid #333;
    border-radius: 12px; height: 48px; overflow: hidden;
}
.step-btn {
    width: 50px; background: #1a1a20; border: none; color: #ccc; font-size: 1.2rem;
}
.step-btn:active { background: #333; }
#current-bet {
    flex-grow: 1; display: flex; align-items: center; justify-content: center;
    font-family: 'Orbitron', monospace; font-weight: 700; font-size: 1.1rem;
}

.quick-bets { display: grid; grid-template-columns: 1fr 1fr; gap: 6px; width: 130px; }
.quick-bets button {
    background: #1a1a20; border: 1px solid #333; color: #888;
    border-radius: 8px; height: 21px; font-size: 0.7rem; font-weight: 700;
}

/* КНОПКА */
.big-btn {
    width: 100%; height: 64px; border: none; border-radius: 16px;
    cursor: pointer; position: relative; overflow: hidden;
    transition: transform 0.1s;
}
.big-btn:active { transform: scale(0.98); }
.btn-title { font-size: 1.4rem; font-weight: 900; letter-spacing: 1px; display: block; }
.btn-subtitle { font-size: 0.75rem; font-weight: 600; opacity: 0.8; display: block; margin-top: 2px; }

.btn-bet { background: linear-gradient(135deg, #00b09b, #96c93d); color: #003300; }
.btn-cashout { background: linear-gradient(135deg, #f2994a, #f2c94c); color: #442200; box-shadow: 0 0 20px rgba(242, 153, 74, 0.4); }
.btn-loading { background: #333; color: #666; cursor: wait; }
.btn-disabled { background: #222; color: #555; cursor: default; }

/* УВЕДОМЛЕНИЕ (ТОСТ) - НЕ ПЕРЕКРЫВАЕТ */
.toast-notification {
    position: fixed; top: 80px; left: 0; width: 100%;
    display: flex; justify-content: center;
    pointer-events: none; /* Пропускает клики */
    z-index: 100;
}
.toast-content {
    background: rgba(0, 200, 83, 0.95); padding: 8px 24px;
    border-radius: 50px; display: flex; align-items: center; gap: 10px;
    box-shadow: 0 5px 20px rgba(0,0,0,0.5);
    animation: slideDown 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275);
}
.toast-val { font-family: 'Orbitron', monospace; font-weight: 900; font-size: 1.1rem; }
.hidden { display: none !important; }
@keyframes slideDown { from { transform: translateY(-30px); opacity: 0; } to { transform: translateY(0); opacity: 1; } }

/* МОДАЛКА ИНФО */
.modal-backdrop {
    position: fixed; top: 0; left: 0; width: 100%; height: 100%;
    background: rgba(0,0,0,0.85); z-index: 2000;
    display: flex; justify-content: center; align-items: center;
    backdrop-filter: blur(5px);
}
.modal-card {
    background: #1a1a20; width: 90%; max-width: 350px; max-height: 80vh;
    border-radius: 20px; border: 1px solid #444;
    display: flex; flex-direction: column; padding: 20px;
}
.modal-body { overflow-y: auto; color: #ccc; line-height: 1.5; }
