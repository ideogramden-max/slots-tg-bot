<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover">
    <title>FastMoney - Crash</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="crashaviator.css"> <!-- Если ты переименовал в v2, поменяй тут -->
    <script src="https://telegram.org/js/telegram-web-app.js"></script>
</head>
<body class="crash-body">
    <div class="stars-bg"></div>
    <div class="vignette"></div>

    <!-- HEADER -->
    <header class="game-header">
        <button class="back-btn" onclick="window.location.href='gamelist.html'"><i class="fa-solid fa-arrow-left"></i></button>
        <div class="balance-container">
            <span class="label">БАЛАНС</span>
            <div class="balance-val"><span id="balance-display">...</span> <span id="currency-display">$</span></div>
        </div>
        <button class="icon-btn" onclick="openInfoModal()"><i class="fa-solid fa-circle-question"></i></button>
    </header>

    <!-- ИСТОРИЯ -->
    <div class="history-bar-wrapper">
        <div class="history-label"><i class="fa-solid fa-clock-rotate-left"></i></div>
        <div class="history-scroll" id="history-container"></div>
    </div>

    <!-- СЦЕНА -->
    <main class="crash-stage">
        <div class="graph-container">
            <canvas id="crash-canvas"></canvas>
            <div class="multiplier-overlay">
                <div id="game-message" class="info-msg">ГОТОВ К ВЗЛЕТУ</div>
                <div id="current-multiplier" class="main-number hidden">1.00x</div>
                <div id="crash-msg" class="crash-label hidden">CRASHED</div>
            </div>
            <div id="rocket-element" class="rocket">
                <i class="fa-solid fa-jet-fighter-up"></i>
                <div class="rocket-trail"></div>
            </div>
        </div>
    </main>

    <!-- УПРАВЛЕНИЕ -->
    <footer class="crash-controls">
        <div class="bet-settings">
            <div class="bet-input-group">
                <div class="stepper-box">
                    <button id="btn-dec" class="step-btn">-</button>
                    <span id="bet-amount">100</span>
                    <button id="btn-inc" class="step-btn">+</button>
                </div>
            </div>
            <div class="bet-shortcuts">
                <button onclick="setBet(100)">100</button>
                <button onclick="setBet(500)">500</button>
                <button onclick="setBet(1000)">1K</button>
                <button onclick="setBet('max')">MAX</button>
            </div>
        </div>

        <div class="action-area">
            <!-- ГЛАВНАЯ КНОПКА -->
            <button id="main-btn" class="action-button btn-bet">
                <span class="btn-title">ПОСТАВИТЬ</span>
                <span class="btn-sub">Начать раунд</span>
            </button>
        </div>
    </footer>

    <!-- УВЕДОМЛЕНИЕ О ВЫИГРЫШЕ -->
    <div id="modal-win" class="toast-overlay hidden">
        <div class="toast-box">
            <div class="toast-icon"><i class="fa-solid fa-trophy"></i></div>
            <div class="toast-text">
                <span class="t-title">ВЫ ЗАБРАЛИ</span>
                <span class="t-amount" id="win-display-amount">0</span>
            </div>
        </div>
    </div>

    <!-- СКРИПТ (Проверь название!) -->
    <script src="crashaviator.js"></script>
</body>
</html>
