<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover">
    <title>FastMoney - Tower</title>
    
    <!-- –®—Ä–∏—Ñ—Ç—ã –∏ –ò–∫–æ–Ω–∫–∏ -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;600;800&family=Orbitron:wght@500;900&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    
    <!-- –°—Ç–∏–ª–∏ -->
    <link rel="stylesheet" href="style.css">     <!-- –ì–ª–æ–±–∞–ª—å–Ω—ã–π -->
    <link rel="stylesheet" href="tower.css">     <!-- –£–Ω–∏–∫–∞–ª—å–Ω—ã–π –¥–ª—è –±–∞—à–Ω–∏ -->
    
    <script src="https://telegram.org/js/telegram-web-app.js"></script>
</head>
<body class="tower-body">

    <!-- –§–æ–Ω: –ü–æ–¥–∑–µ–º–µ–ª—å–µ / –ë–∞—à–Ω—è -->
    <div class="dungeon-bg"></div>
    <div class="vignette"></div>
    <!-- –ß–∞—Å—Ç–∏—Ü—ã –ø—ã–ª–∏/—Ç—É–º–∞–Ω–∞ -->
    <div class="fog-container"></div>

    <!-- –í–µ—Ä—Ö–Ω—è—è –ø–∞–Ω–µ–ª—å -->
    <header class="game-header">
        <button class="back-btn" onclick="window.location.href='gamelist.html'">
            <i class="fa-solid fa-arrow-left"></i>
        </button>
        
        <div class="balance-container">
            <span class="label">–ë–ê–õ–ê–ù–°</span>
            <div class="balance-val">
                <span id="balance-display">Loading...</span>
                <span id="currency-display">$</span>
            </div>
        </div>

        <button class="icon-btn" onclick="openInfoModal()">
            <i class="fa-solid fa-circle-question"></i>
        </button>
    </header>

    <!-- –û–°–ù–û–í–ù–ê–Ø –ó–û–ù–ê (–ë–ê–®–ù–Ø) -->
    <main class="tower-stage">
        
        <!-- –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä –¥–ª—è —Å–∫—Ä–æ–ª–ª–∞, –µ—Å–ª–∏ –±–∞—à–Ω—è –≤—ã—Å–æ–∫–∞—è -->
        <div class="tower-scroll-wrapper" id="tower-scroll">
            
            <!-- –°–∞–º–∞ —Å–µ—Ç–∫–∞ –±–∞—à–Ω–∏ (–ì–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç—Å—è JS: rows -> tiles) -->
            <div class="tower-grid" id="tower-grid">
                <!-- 
                –ü—Ä–∏–º–µ—Ä —Ä—è–¥–∞ (–≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç—Å—è —Å–∫—Ä–∏–ø—Ç–æ–º):
                <div class="tower-row active">
                    <div class="row-mult">1.50x</div>
                    <div class="t-tile"></div>
                    <div class="t-tile"></div>
                    <div class="t-tile"></div>
                </div> 
                -->
            </div>
        </div>

        <!-- –û–≤–µ—Ä–ª–µ–π –±–ª–æ–∫–∏—Ä–æ–≤–∫–∏ (–ø–æ–∫–∞ –Ω–µ—Ç –∏–≥—Ä—ã) -->
        <div class="tower-overlay" id="tower-overlay">
            <i class="fa-solid fa-dungeon"></i>
            <span>–í—ã–±–µ—Ä–∏—Ç–µ —Å–ª–æ–∂–Ω–æ—Å—Ç—å –∏ –Ω–∞—á–Ω–∏—Ç–µ</span>
        </div>

    </main>

    <!-- –ù–ò–ñ–ù–Ø–Ø –ü–ê–ù–ï–õ–¨ –£–ü–†–ê–í–õ–ï–ù–ò–Ø -->
    <footer class="tower-controls">
        
        <!-- –ü–∞–Ω–µ–ª—å –Ω–∞—Å—Ç—Ä–æ–µ–∫ (–ø—Ä—è—á–µ—Ç—Å—è –ø—Ä–∏ –∏–≥—Ä–µ) -->
        <div class="settings-panel" id="settings-panel">
            
            <!-- –°–ª–æ–∂–Ω–æ—Å—Ç—å -->
            <div class="diff-selector">
                <span class="label-tiny">–°–õ–û–ñ–ù–û–°–¢–¨</span>
                <div class="diff-options">
                    <button class="d-opt active" onclick="setDifficulty('easy')" data-diff="easy">
                        EASY <span class="stars">‚òÖ‚òÜ‚òÜ</span>
                    </button>
                    <button class="d-opt" onclick="setDifficulty('medium')" data-diff="medium">
                        MED <span class="stars">‚òÖ‚òÖ‚òÜ</span>
                    </button>
                    <button class="d-opt" onclick="setDifficulty('hard')" data-diff="hard">
                        HARD <span class="stars">‚òÖ‚òÖ‚òÖ</span>
                    </button>
                    <button class="d-opt danger" onclick="setDifficulty('crazy')" data-diff="crazy">
                        üòà
                    </button>
                </div>
            </div>

            <!-- –°—Ç–∞–≤–∫–∞ -->
            <div class="bet-row">
                <div class="stepper-box">
                    <button id="btn-dec" class="step-btn">-</button>
                    <span id="bet-amount">100</span>
                    <button id="btn-inc" class="step-btn">+</button>
                </div>
                <div class="quick-btns">
                    <button onclick="setBet(100)">MIN</button>
                    <button onclick="setBet('max')">MAX</button>
                </div>
            </div>
        </div>

        <!-- –ö–Ω–æ–ø–∫–∞ –¥–µ–π—Å—Ç–≤–∏—è -->
        <div class="action-wrapper">
            <button id="main-btn" class="main-tower-btn">
                <span class="btn-text">–ò–ì–†–ê–¢–¨</span>
                <span class="btn-sub" id="btn-sub">–ù–∞—á–∞—Ç—å –≤–æ—Å—Ö–æ–∂–¥–µ–Ω–∏–µ</span>
            </button>
        </div>

    </footer>

    <!-- –ú–û–î–ê–õ–ö–ò -->

    <!-- –ü–æ–±–µ–¥–∞ -->
    <div id="modal-win" class="modal-overlay hidden">
        <div class="win-card">
            <div class="win-light"></div>
            <div class="icon-box"><i class="fa-solid fa-crown"></i></div>
            <h2>VICTORY!</h2>
            <div class="win-val">
                <span id="win-amount">0</span>
                <span id="win-curr">$</span>
            </div>
            <button class="claim-btn" onclick="closeWinModal()">–ó–ê–ë–†–ê–¢–¨</button>
        </div>
    </div>

    <!-- –ü–æ—Ä–∞–∂–µ–Ω–∏–µ -->
    <div id="modal-loss" class="modal-overlay hidden">
        <div class="loss-card">
            <div class="icon-box fail"><i class="fa-solid fa-skull"></i></div>
            <h2>GAME OVER</h2>
            <p>–í—ã –æ—Å—Ç—É–ø–∏–ª–∏—Å—å –∏ —É–ø–∞–ª–∏.</p>
            <button class="retry-btn" onclick="closeLossModal()">–ï–©–ï –†–ê–ó</button>
        </div>
    </div>

    <!-- –ò–Ω—Ñ–æ -->
    <div id="modal-info" class="modal-overlay hidden">
        <div class="info-card">
            <div class="card-header">
                <h3>–ü–†–ê–í–ò–õ–ê –ë–ê–®–ù–ò</h3>
                <button onclick="closeInfoModal()"><i class="fa-solid fa-xmark"></i></button>
            </div>
            <div class="card-body">
                <p>1. –í—ã–±–∏—Ä–∞–π—Ç–µ —è—á–µ–π–∫—É –Ω–∞ –∞–∫—Ç–∏–≤–Ω–æ–º —ç—Ç–∞–∂–µ.</p>
                <p>2. –ï—Å–ª–∏ —Ç–∞–º <i class="fa-regular fa-gem" style="color:cyan"></i> ‚Äî –≤—ã –ø–æ–¥–Ω–∏–º–∞–µ—Ç–µ—Å—å –≤—ã—à–µ.</p>
                <p>3. –ï—Å–ª–∏ —Ç–∞–º <i class="fa-solid fa-skull" style="color:red"></i> ‚Äî –≤—ã —Ç–µ—Ä—è–µ—Ç–µ –≤—Å—ë.</p>
                <p>4. –ó–∞–±–∏—Ä–∞–π—Ç–µ –≤—ã–∏–≥—Ä—ã—à –Ω–∞ –ª—é–±–æ–º —ç—Ç–∞–ø–µ, –ø–æ–∫–∞ –Ω–µ –ø—Ä–æ–∏–≥—Ä–∞–ª–∏!</p>
            </div>
        </div>
    </div>

    <!-- –ê—É–¥–∏–æ -->
    <div style="display:none;">
        <audio id="snd-step" src="assets/step.mp3"></audio>
        <audio id="snd-fall" src="assets/fall.mp3"></audio>
        <audio id="snd-win" src="assets/win.mp3"></audio>
    </div>

    <script src="tower.js"></script>
</body>
</html>
