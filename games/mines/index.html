<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover">
    <meta name="theme-color" content="#0c0c12">
    <title>FastMoney - Mines</title>
    
    <!-- –ì–ª–æ–±–∞–ª—å–Ω—ã–µ —à—Ä–∏—Ñ—Ç—ã -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;600;700;800&family=Orbitron:wght@500;700;900&display=swap" rel="stylesheet">
    
    <!-- –ò–∫–æ–Ω–∫–∏ -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    
    <!-- –°–¢–ò–õ–ò -->
    <link rel="stylesheet" href="../../style.css">       <!-- –ì–ª–æ–±–∞–ª—å–Ω—ã–µ -->
    <link rel="stylesheet" href="style.css">             <!-- –õ–æ–∫–∞–ª—å–Ω—ã–µ -->
    
    <!-- Telegram SDK -->
    <script src="https://telegram.org/js/telegram-web-app.js"></script>
</head>
<body class="mines-body">

    <!-- =========================================
         –°–õ–û–ô 1: –§–û–ù
         ========================================= -->
    <div class="tech-bg"></div>
    <div class="vignette"></div>

    <!-- =========================================
         –°–õ–û–ô 2: –í–ï–†–•–ù–Ø–Ø –ü–ê–ù–ï–õ–¨
         ========================================= -->
    <header class="game-header">
        <button class="back-btn" onclick="window.location.href='../../gamelist.html'">
            <i class="fa-solid fa-chevron-left"></i>
        </button>
        
        <div class="balance-container">
            <span class="label">–ë–ê–õ–ê–ù–°</span>
            <div class="balance-val">
                <span id="balance-display">Loading...</span>
                <span id="currency-display">$</span>
            </div>
        </div>

        <button class="icon-btn" onclick="UI.toggleInfo(true)">
            <i class="fa-solid fa-circle-question"></i>
        </button>
    </header>

    <!-- =========================================
         –°–õ–û–ô 3: –ò–ì–†–û–í–ê–Ø –°–¶–ï–ù–ê
         ========================================= -->
    <main class="mines-stage">
        
        <!-- –ò–Ω—Ñ–æ-–±–∞—Ä (–ø–æ—è–≤–ª—è–µ—Ç—Å—è –≤–æ –≤—Ä–µ–º—è –∏–≥—Ä—ã) -->
        <div class="game-stats hidden" id="game-stats-bar">
            <div class="stat-box">
                <span class="s-label">–ú–ù–û–ñ–ò–¢–ï–õ–¨</span>
                <span class="s-val" id="current-mult">1.00x</span>
            </div>
            <div class="stat-box highlight">
                <span class="s-label">–°–õ–ï–î–£–Æ–©–ò–ô –®–ê–ì</span>
                <span class="s-val" id="next-profit">+0.00 $</span>
            </div>
        </div>

        <!-- –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä —Å–µ—Ç–∫–∏ -->
        <div class="grid-wrapper">
            <!-- –°–µ—Ç–∫–∞ 5x5 –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç—Å—è JS -->
            <div class="mines-grid" id="mines-grid"></div>
            
            <!-- –û–≤–µ—Ä–ª–µ–π –±–ª–æ–∫–∏—Ä–æ–≤–∫–∏ (–ø–æ–∫–∞ –Ω–µ –Ω–∞–∂–∞–ª–∏ –°—Ç–∞—Ä—Ç) -->
            <div class="grid-overlay" id="grid-overlay">
                <i class="fa-solid fa-lock"></i>
                <span>–°–¥–µ–ª–∞–π—Ç–µ —Å—Ç–∞–≤–∫—É</span>
            </div>
        </div>

    </main>

    <!-- =========================================
         –°–õ–û–ô 4: –ü–ê–ù–ï–õ–¨ –£–ü–†–ê–í–õ–ï–ù–ò–Ø
         ========================================= -->
    <footer class="mines-controls">
        
        <!-- –ë–ª–æ–∫ –Ω–∞—Å—Ç—Ä–æ–µ–∫ (–°–∫—Ä—ã–≤–∞–µ—Ç—Å—è –ø—Ä–∏ —Å—Ç–∞—Ä—Ç–µ –∏–≥—Ä—ã) -->
        <div class="settings-area" id="settings-area">
            
            <!-- –í—ã–±–æ—Ä –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ –º–∏–Ω -->
            <div class="mines-selector">
                <span class="label-tiny">–ö–û–õ–ò–ß–ï–°–¢–í–û –ú–ò–ù</span>
                <div class="mines-options">
                    <button class="m-opt active" onclick="UI.setMinesCount(1)">1</button>
                    <button class="m-opt" onclick="UI.setMinesCount(3)">3</button>
                    <button class="m-opt" onclick="UI.setMinesCount(5)">5</button>
                    <button class="m-opt" onclick="UI.setMinesCount(10)">10</button>
                    <div class="custom-mines">
                        <button class="m-opt-custom" id="custom-mines-btn" onclick="UI.toggleCustomMines()">
                            <span id="mines-count-display">24</span> üí£
                        </button>
                    </div>
                </div>
                
                <!-- –°–ª–∞–π–¥–µ—Ä (—Å–∫—Ä—ã—Ç –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é) -->
                <div class="mines-slider-box hidden" id="mines-slider-box">
                    <input type="range" min="1" max="24" value="3" id="mines-range" oninput="UI.onSliderChange(this.value)">
                </div>
            </div>

            <!-- –í–≤–æ–¥ —Å—Ç–∞–≤–∫–∏ -->
            <div class="bet-input-row">
                <div class="stepper-box">
                    <button id="btn-dec" class="step-btn"><i class="fa-solid fa-minus"></i></button>
                    <span id="bet-amount">100</span>
                    <button id="btn-inc" class="step-btn"><i class="fa-solid fa-plus"></i></button>
                </div>
                <div class="quick-bets">
                    <button onclick="UI.setBet(100)">100</button>
                    <button onclick="UI.setBet(500)">500</button>
                    <button onclick="UI.setBet('max')">MAX</button>
                </div>
            </div>
        </div>

        <!-- –ì–ª–∞–≤–Ω–∞—è –∫–Ω–æ–ø–∫–∞ –¥–µ–π—Å—Ç–≤–∏—è -->
        <div class="action-wrapper">
            <!-- –°–æ—Å—Ç–æ—è–Ω–∏—è: –ò–≥—Ä–∞—Ç—å / –ó–∞–±—Ä–∞—Ç—å / –ó–∞–≥—Ä—É–∑–∫–∞ -->
            <button id="main-btn" class="main-action-btn">
                <span class="btn-text">–ò–ì–†–ê–¢–¨</span>
                <span class="btn-sub" id="btn-sub-text">–ù–∞—á–∞—Ç—å —Ä–∞—É–Ω–¥</span>
            </button>
        </div>

    </footer>

    <!-- =========================================
         –°–õ–û–ô 5: –ú–û–î–ê–õ–ö–ò
         ========================================= -->

    <!-- –ü–æ–±–µ–¥–∞ (–§–∏–Ω–∞–ª—å–Ω—ã–π Cashout) -->
    <div id="modal-win" class="modal-overlay hidden">
        <div class="win-card">
            <div class="win-glow"></div>
            <div class="win-icon"><i class="fa-regular fa-gem"></i></div>
            <h2>–ü–û–ë–ï–î–ê!</h2>
            <div class="win-val">
                <span id="win-amount">0</span>
                <span id="win-curr">$</span>
            </div>
            <button class="claim-btn" onclick="UI.closeWinModal()">–û–¢–õ–ò–ß–ù–û</button>
        </div>
    </div>

    <!-- –ü–æ—Ä–∞–∂–µ–Ω–∏–µ (–í–∑—Ä—ã–≤) -->
    <div id="modal-loss" class="modal-overlay hidden">
        <div class="loss-card">
            <div class="loss-icon"><i class="fa-solid fa-bomb"></i></div>
            <h2>–í–ó–†–´–í!</h2>
            <p>–í—ã –Ω–∞—Ç–∫–Ω—É–ª–∏—Å—å –Ω–∞ –º–∏–Ω—É.</p>
            <button class="retry-btn" onclick="UI.closeLossModal()">–ï–©–ï –†–ê–ó</button>
        </div>
    </div>

    <!-- –ò–Ω—Ñ–æ -->
    <div id="modal-info" class="modal-overlay hidden">
        <div class="info-card">
            <div class="card-header">
                <h3>–ö–ê–ö –ò–ì–†–ê–¢–¨?</h3>
                <button onclick="UI.toggleInfo(false)"><i class="fa-solid fa-xmark"></i></button>
            </div>
            <div class="card-body">
                <p>1. –í—ã–±–µ—Ä–∏—Ç–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –º–∏–Ω –∏ —Å–¥–µ–ª–∞–π—Ç–µ —Å—Ç–∞–≤–∫—É.</p>
                <p>2. –ù–∞–∂–∏–º–∞–π—Ç–µ –Ω–∞ –ø–ª–∏—Ç–∫–∏, —á—Ç–æ–±—ã –∏—Å–∫–∞—Ç—å <span class="text-green">–ê–ª–º–∞–∑—ã</span>.</p>
                <p>3. –ß–µ–º –±–æ–ª—å—à–µ –∞–ª–º–∞–∑–æ–≤ –æ—Ç–∫—Ä—ã—Ç–æ, —Ç–µ–º –±–æ–ª—å—à–µ –≤—ã–∏–≥—Ä—ã—à.</p>
                <p>4. –ù–∞–∂–º–∏—Ç–µ <b>–ó–ê–ë–†–ê–¢–¨</b> –≤ –ª—é–±–æ–π –º–æ–º–µ–Ω—Ç, —á—Ç–æ–±—ã —Å–æ—Ö—Ä–∞–Ω–∏—Ç—å –¥–µ–Ω—å–≥–∏.</p>
                <p>5. –ï—Å–ª–∏ –ø–æ–ø–∞–¥–µ—Ç–µ –Ω–∞ <span class="text-red">–ú–∏–Ω—É</span> ‚Äî —Å—Ç–∞–≤–∫–∞ —Å–≥–æ—Ä–∏—Ç.</p>
            </div>
        </div>
    </div>

    <!-- =========================================
         –°–ö–†–ò–ü–¢–´
         ========================================= -->
    
    <!-- 1. –Ø–¥—Ä–æ -->
    <script src="../../config.js"></script>
    <script src="../../core/utils.js"></script>
    <script src="../../core/api.js"></script>
    <script src="../../core/audio.js"></script>

    <!-- 2. –õ–æ–∫–∞–ª—å–Ω—ã–µ –∫–æ–Ω—Ñ–∏–≥–∏ -->
    <script src="config.js"></script>

    <!-- 3. –ú–æ–¥—É–ª–∏ –∏–≥—Ä—ã -->
    <script src="src/network.js"></script> <!-- –°–≤—è–∑—å —Å API -->
    <script src="src/grid.js"></script>    <!-- –ì–µ–Ω–µ—Ä–∞—Ü–∏—è —Å–µ—Ç–∫–∏ -->
    <script src="src/ui.js"></script>      <!-- –ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å -->
    <script src="src/main.js"></script>    <!-- –ò–≥—Ä–æ–≤–æ–π —Ü–∏–∫–ª -->

</body>
  </html>
